<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
</head>
<body>
    <div class="messages-container">
        <div class="main-container">
            <div class="ALLmassages">
               <div class="nav-msg">
                 <p>ClothKart <span><i class="fa-solid fa-comment-dots"></i></span></p>
                 <input type="search" placeholder="Find Costomer">
               </div>
              <div class="costomers-cts">
                 <div class="customerID">
                     <div class="customerIMG">
                        <img src="https://wac-cdn.atlassian.com/dam/jcr:ba03a215-2f45-40f5-8540-b2015223c918/Max-R_Headshot%20(1).jpg?cdnVersion=2117" alt="">
                     </div>
                     <div class="CustomerName">
                      <p>Customer ClothKart</p>
                      <p class="previewMsg">messge preview......</p>
                     </div>
                     <div class="MsgTime">
                       <div class="time"><p>02:00</p></div>
                       <div class="newMsg"><p>5</p></div>
                     </div>      
                </div>
              </div>
            </div>
            <div class="massage-contian">
                <div class="current-chat">
                    <div class="customerIMG-chat">
                        <img src="https://wac-cdn.atlassian.com/dam/jcr:ba03a215-2f45-40f5-8540-b2015223c918/Max-R_Headshot%20(1).jpg?cdnVersion=2117" alt="">
                     </div>
                     <div class="customer-info">
                      <p class="name-and-menu">Customer ClothKart <span><i class="fa-solid fa-ellipsis-vertical"></i></span></p>
                      <p class="status">Online</p>
                     </div>
                     <div class="MsgTime">

                     </div>      
                </div>
                <div class="chat">
                       <div class="chat-box">
                        <div class="customer-msg">
                          <div class="img-time">
                             <img src="https://wac-cdn.atlassian.com/dam/jcr:ba03a215-2f45-40f5-8540-b2015223c918/Max-R_Headshot%20(1).jpg?cdnVersion=2117" alt="">
                             <p>01:33AM</p>
                          </div>
                          <div class="msg">
                            <p>Hello i am customer</p>
                          </div>
                        </div>
                        <div class="supportTeam-msg" id="chat-box">
                           <!-- ------ our message here-------------- -->
                        </div>
                       </div>
                       <div class="chat-input" id="chat-input">
                        <input id="message-input" class="messgesend" type="text" placeholder="Message">
                        <i class="fa-regular fa-paper-plane" id="send-message"></i>
                        <i class="fa-solid fa-microphone"></i>
                       </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<style>
    body{
        margin: 5px;
        padding: 0;
        font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
    .messages-container{
        position: absolute;
        width: 100%;
        max-height: 600px;
        height:100% ;
        margin: auto;
    }
    .main-container{
     display: flex;
     width: 1300px;
     margin: auto;

    }
    .ALLmassages{
        max-width: 400px;
        width: 100%;
    }
    .nav-msg{
        margin-top: -30px;
        background-color:#444141;
        width: 100%;
        height: 120px;
        border-radius: 25px;
    }
    .nav-msg p {
     font-size: 30px;
     color: white;
     display: flex;
     justify-content: space-between;
     padding: 10px;
    }
    .nav-msg input{
    border: 0;
    padding: 10px;
    margin-left: 50px;
    width: 300px;
    border-radius: 25px;
    margin-top: -10px;
    border: 1px solid #444141;
    }
    .costomers-cts{
        width: 100%;
        height: 800px;
        overflow: scroll;
        padding: 5px;
    }
    .costomers-cts::-webkit-scrollbar{
        display: none;
    }

    .customerID{
        transition: 0.5s;
 display: flex;
 width: 100%;
 height: 80px;
 background-color: rgb(235, 235, 235);
 justify-content: center;
 border-radius: 25px;
 margin-top: 5px;
 cursor: pointer;
    }
    .customerID:hover{
        transition: 0.5s;
      box-shadow: 2px 2px 10px 2px rgba(0, 0, 0, 0.221);
    }
    .customerIMG{
       
        width: 80px;
        align-self: center;
    }
    .customerIMG img{
        width: 60px;
        border-radius: 50px;
    }
    .CustomerName{
        width: 200px;
        font-size: 20px;
    }
    .previewMsg{
        margin-top: -20px;
        font-size: 13px;
        color: #504f4f;
    }
    .MsgTime{
      text-align: center;
      margin-left: 20px;
    }
    .time{
        font-size: 13px;
        color: #504f4f;
    }
    .newMsg{
    margin-top: -10px;
     background-color: #444141;
     border-radius: 50px;
     width: 20px;
     color: white;
     text-align:center;
    }
    .massage-contian{
        width: 100%;
    }
    .current-chat{
        width: 100%;
        height: 80px;
        background-color: #444141;
        display: flex;
        margin-left: 10px;
        border-radius: 25px;
        color: white;

    }
    .current-chat img{
        width: 60px;
        border-radius: 50px;
    }
    .customerIMG-chat{
      margin-left: 15px;
      align-self: center;
      margin-top: 9px;
    }
    .status{
        color: rgb(217, 217, 217);
        font-size: 15px;
        margin-top: -20px;
        font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin-top: -30px;
    }
    .name-and-menu{
        margin-top: 20px;
    display: flex;
    justify-content: space-between;
    width: 780px;
    }
    .name-and-menu span{
        margin-top: 0px;
        font-size: 25px;
        cursor: pointer;
    }
    .customer-info{
        margin-left: 10px;
    }
    .chat{
        margin-top: 10px;
        width: 100%;
        height: 800px; 
        margin-left: 10px;
    }
    .chat-box{
        background-image: url(https://t3.ftcdn.net/jpg/01/99/79/88/360_F_199798806_PAFfWGapie6Mk8igqKHbhIIa9LwQcvQr.jpg);
        width: 99%;
        margin: auto;
        height: 710px;
        overflow: scroll;
    }
    .chat-box::-webkit-scrollbar{
        display: none;
    }
    .chat-input{
        width: 100%;
        background-color: #444141;
        height: 80px;
      display: flex;
      border-radius: 25px;
    }
    .messgesend{
      align-self: center;
      margin-left: 20px;
      padding: 15px;
      width: 700px;
      border: 0;
      color: white;
      background-color: #5d5858;
      font-size: 15px;
      border-radius: 25px;
    }
    .chat-input i{
        align-self: center;
        margin-left: 20px;
        padding: 15px;
        border: 0;
        color: white;
        background-color: #5d5858;
        font-size: 20px;
        cursor: pointer;
        border-radius: 20px;
    }
    .chat-input i:hover{
        box-shadow: 2px 2px 10px 2px rgba(0, 0, 0, 0.111);
    }
    .img-time{
        display: flex;
    }
    .img-time img{
        width: 50px;
        border-radius: 50px;
    }
    .msg{
      width: 100%;
      margin-top: -15px;
    }
    .msg p{
        background-color: #444141;
        color: white;
        padding:10px;
        font-size: 15px;
        border-radius: 0px 25px 25px 25px;
        width: 250px;
        height: 100%;
        word-break: break-word; /* Breaks long words */
        overflow-wrap: break-word; /* Handles overflow */
        display: inline-block;
        max-width: 70%;
    }
    .supportTeam-msg{
     width: 100%;
    }
    .msg2{
        margin-top: -15px;
    display: flex;
    justify-content: end;
    }
    .msg2 p{
        background-color: #444141;
        color: white;
        padding:10px;
        font-size: 15px;
        border-radius: 50px 50px 0px 50px;
        width: 350px;
        word-break: break-word; /* Breaks long words */
        overflow-wrap: break-word; /* Handles overflow */
    }
    .img-time2{
        display: flex;
        justify-content: end;
    }
    .img-time2 img{
        width: 50px;
        border-radius: 50px;
    }
</style>
<script>
    document.getElementById('send-message').addEventListener('click', function() {
        sendMessage();
    });

    document.getElementById('message-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
     
        }
    });

    function getCurrentTime() {
        const now = new Date();
        let hours = now.getHours();
        let minutes = now.getMinutes();
        let seconds = now.getSeconds();

        hours = hours < 10 ? '0' + hours : hours;
        minutes = minutes < 10 ? '0' + minutes : minutes;
        seconds = seconds < 10 ? '0' + seconds : seconds;

        return `${hours}:${minutes}:${seconds}`;
    }

    function sendMessage() {
        const messageInput = document.getElementById('message-input');
        const messageText = messageInput.value.trim();
        if (messageText === '') return;
        var currentTime = getCurrentTime();

        const chatBox = document.getElementById('chat-box');
        if (!chatBox) {
            console.error('Chat box not found!');
            return;
        }

        // Create new message element
        const newMessage = document.createElement('div');
        newMessage.classList.add('message');
        newMessage.innerHTML = `
            <div class="img-time2">
             <p>${currentTime}</p>
             <img src="https://wac-cdn.atlassian.com/dam/jcr:ba03a215-2f45-40f5-8540-b2015223c918/Max-R_Headshot%20(1).jpg?cdnVersion=2117" alt="">
            </div>
            <div class="msg2">
                 <p>${messageText}</p>
            </div>
        `;
        chatBox.appendChild(newMessage);

        // Scroll to the bottom
        chatBox.scrollTop = chatBox.scrollHeight;

        botRepay(messageText);

        // Clear input field
        messageInput.value = '';
    }

   function botRepay(bot){
      if(bot == 'hi'){
        var hi = 'hi user thank you for message';

        const chatBox = document.getElementById('chat-box');
      if (!chatBox) {
          console.error('Chat box not found!');
          return;
      }

      // Create new message element
      const newMessage = document.createElement('div');
      newMessage.classList.add('message1');
      newMessage.innerHTML = `
             <div class="img-time">
                 <img src="https://wac-cdn.atlassian.com/dam/jcr:ba03a215-2f45-40f5-8540-b2015223c918/Max-R_Headshot%20(1).jpg?cdnVersion=2117" alt="">
                 <p>01:33AM</p>
             </div>
             <div class="msg">
              <p>${hi}</p>
             </div>
      `;
      chatBox.appendChild(newMessage);
      }

      

   }
</script>